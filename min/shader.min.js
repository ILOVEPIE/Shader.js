/*
 |   shader.min.js (Closure Compiled shader.js) - A small and compact closure-compiler compatible javascript library for managing shaders.
 |----------------
 |  shader.js, and all compiled versions of shader.js are copyright Patrick Rhodes Martin, 2013.
 |-
 */
window.c={};
window.ShaderPrototype=Object.create(Object,{d:{value:null,writable:!0},a:{value:Object.create(Object),writable:!0},load:{value:function(a,f){if("undefined"===typeof window.c[a]){var d=new XMLHttpRequest;d.open("GET",a,!1);d.send();200===d.status&&(this.i=window.c[a]=d.responseText)}else this.i=window.c[a];"undefined"===typeof window.c[f]?(d=new XMLHttpRequest,d.open("GET",f,!1),d.send(),200===d.status&&(this.h=window.c[f]=d.responseText)):this.h=window.c[f]}},updateOption:{value:function(a,f){return this.a[a]?
(this.a[a].b=f,!0):!1},writable:!1},addOption:{value:function(a,f,d){return null==this.a[a]?(this.a[a]={b:f,j:d},!0):!1},writable:!1},bindShader:{value:function(a){a.useProgram(this.d);for(var f=this.a.keys(this.a),d=0;d<f.length;d++){var b=f[d],e=a.getUniformLocation(this.d,b);if(e)switch(this.a[b].j){case "1f":a.uniform1f(e,this.a[b].b);break;case "2f":a.uniform2f(e,this.a[b].b[0],this.a[b].b[1]);break;case "3f":a.uniform3f(e,this.a[b].b[0],this.a[b].b[1],this.a[b].b[2]);break;case "4f":a.uniform4f(e,
this.a[b].b[0],this.a[b].b[1],this.a[b].b[2],this.a[b].b[3]);break;case "1i":a.uniform1i(e,this.a[b].b);break;case "2i":a.uniform2i(e,this.a[b].b[0],this.a[b].b[1]);break;case "3i":a.uniform3i(e,this.a[b].b[0],this.a[b].b[1],this.a[b].b[2]);break;case "4i":a.uniform4i(e,this.a[b].b[0],this.a[b].b[1],this.a[b].b[2],this.a[b].b[3]);break;case "1fv":a.uniform1fv(e,this.a[b].b);break;case "2fv":a.uniform2fv(e,this.a[b].b);break;case "3fv":a.uniform3fv(e,this.a[b].b);break;case "4fv":a.uniform4fv(e,this.a[b].b);
break;case "1iv":a.uniform1iv(e,this.a[b].b);break;case "2iv":a.uniform2iv(e,this.a[b].b);break;case "3iv":a.uniform3iv(e,this.a[b].b);break;case "4iv":a.uniform4iv(e,this.a[b].b);break;case "Matrix2fv":a.uniformMatrix2fv(e,!1,this.a[b].b);break;case "Matrix3fv":a.uniformMatrix3fv(e,!1,this.a[b].b);break;case "Matrix4fv":a.uniformMatrix4fv(e,!1,this.a[b].b)}}},writable:!1},getShader:{value:function(){return this.d},writable:!1},compile:{value:function(a,f){var d;this.d=d=a.createProgram();this.g=
this.e(a,this.i,a.VERTEX_SHADER);this.f=this.e(a,this.h,a.FRAGMENT_SHADER);a.attachShader(d,this.g);a.attachShader(d,this.f);a.linkProgram(d);a.getProgramParameter(d,a.LINK_STATUS)||(a.deleteProgram(d),a.deleteShader(this.g),a.deleteShader(this.f),f())},writable:!1},e:{value:function(a,f,d){var b;b="#ifdef GL_ES\nprecision highp float;\n#endif\n";d=a.createShader(d);a.shaderSource(d,b+f);a.compileShader(d);return a.getShaderParameter(d,a.COMPILE_STATUS)?d:(console.debug(a.getShaderInfoLog(d)),a.deleteShader(d),
null)}}});